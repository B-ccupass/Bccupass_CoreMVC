@using Bccupass_CoreMVC.Models.ViewModel.Activity
@model ActivityCategoryCardViewModel	
<div class="container mt-5">
		<div class="row my-3 justify-content-center text-center">
			<div class="col-12 col-lg-6">
				<h1 class="fs-3">Hello {{USER}}！請選擇一個主辦單位！</h1>
			</div>
		</div>
		<div class="row my-3 justify-content-center text-center">
			<div class="col-12 col-lg-5">
				<div class="list-group fs-3">
                <button id="btn1" type="button" class="border-2 border-info rounded-2 list-group-item list-group-item-action my-1">@Model.OrganizerName</button>
				</div>
			</div>
		</div>
		<div class="row my-3 justify-content-center text-center">
			<div class="col-12 col-lg-5">
				<hr>
			</div>
		</div>
		<div class="row my-3 justify-content-center text-center">
			<div class="col-12 col-lg-5">
				<div class="list-group fs-3">
					   <button id="new" type="button" class="border-2 border-info rounded-2 list-group-item list-group-item-action my-1">建立新主辦</button>
				</div>
			</div>
		</div>
	</div>

@section endJS{
<script>
document.getElementById("btn1").addEventListener("click", function () {
    try {
        fetch(`/CreateActivity/Policy/${@Model.OrganizerId}`, { method: 'GET' })
            .then(res => location.assign(res.url))
            .catch((error) => console.log(error));
    } catch (error) {
        console.warn(error)
    }
})

document.getElementById("new").addEventListener("click", function () {
    try {
        fetch(`/Organizer/CreateOrganizer/${@Model.OrganizerId}`, { method: 'GET' }) //日後接UserId
            .then(res => location.assign(res.url))
            .catch((error) => console.log(error));
    } catch (error) {
        console.warn(error)
    }
})

</script>
}